BeautyInside – AI 기반 외형 시뮬레이션 Android 앱
1. 프로젝트 개요

BeautyInside는 사용자가 업로드한 얼굴 이미지를 기반으로
AI를 활용한 시술 후 외형 시뮬레이션 결과와
눈 형태에 대한 정량적 분석 정보를 함께 제공하는
Android 애플리케이션입니다.

본 프로젝트는 AI 추론 서버와 모바일 클라이언트를 분리하여 설계되었으며,
모바일 환경에서는 결과 시각화와 사용자 인터랙션에 집중하고,
연산 비용이 높은 AI 추론은 외부 GPU 서버에서 처리하도록 구성되어 있습니다.

프로젝트 구성은 다음과 같습니다.

Android 클라이언트 애플리케이션

외부 GPU 서버에서 실행되는 AI 추론 서버 (FastAPI)

AI 추론 서버는 GPU 자원이 필요한 관계로
본 GitHub 저장소에는 포함되어 있지 않습니다.

2. 서버 연동 관련 안내 (중요)

본 애플리케이션은 외부 GPU 서버에서 실행 중인 AI 추론 서버와 통신합니다.
교수님의 로컬 환경에서는 해당 서버가 실행되지 않는 것이 정상이며,
본 저장소는 다음 항목을 중심으로 검토하실 수 있도록 구성되었습니다.

Android 앱 아키텍처

REST API 통신 방식 (Retrofit)

Fragment 기반 화면 전환 구조

AI 결과 수신 및 UI 반영 로직

3. 서버 통신 구조

Android 앱은 SSH 포트 포워딩 방식을 이용하여
외부 AI 서버와 통신합니다.

통신 구조는 다음과 같습니다.

Android 에뮬레이터
↓
10.0.2.2:8002 (로컬 PC)
↓ SSH 포트 포워딩
GPU 서버 (localhost:8002)

해당 구조는 외부 네트워크 노출 없이
AI 서버를 안전하게 연동하기 위한 방식입니다.

4. AI 분석 기능 설명 (눈 분석)

AI 추론 서버는 업로드된 얼굴 이미지에 대해 다음 분석을 수행합니다.

4-1. 시술 후 외형 시뮬레이션

Stable Diffusion 기반 이미지 생성

눈 영역 중심의 자연스러운 시술 후 이미지 생성

결과 이미지는 Android 클라이언트에서 시각적으로 제공

4-2. 눈 형태 분석 결과 도출

AI 서버는 시뮬레이션 결과와 함께
눈 형태에 대한 정성·정량 분석 정보를 JSON 형태로 반환합니다.

분석 항목은 다음과 같습니다.

눈매 유형 (eye_type)
예: 완만한 눈매, 약간 올라간 눈매 등

좌우 대칭 정도 (symmetry)
얼굴 랜드마크 기반 상대적 대칭 평가

눈 크기 비율 (size_ratio)
얼굴 대비 눈 영역 비율

시술 추천 요약 (recommendation)
분석 결과를 바탕으로 한 자연스러운 개선 방향 제시

해당 분석 결과는 Android 결과 화면에서
텍스트 형태로 사용자에게 제공됩니다.

5. Android 결과 화면 처리 로직

Android 앱은 AI 서버로부터 다음 데이터를 수신합니다.

시술 후 결과 이미지 URL

눈 분석 결과 JSON

처리 흐름은 다음과 같습니다.

사용자가 얼굴 이미지를 업로드

AI 서버에서 얼굴 인식 및 추론 수행

결과 이미지 + 눈 분석 JSON 반환

HomeFragment에서 서버 응답 수신

Result 화면(Activity)으로 데이터 전달

결과 이미지 및 분석 텍스트 UI 출력

이를 통해 사용자는
시각적 결과 + 해석 가능한 분석 정보를 동시에 확인할 수 있습니다.

6. 전체 파이프라인 실행 방법 (선택 사항)

AI 서버까지 포함한 전체 실행 방법은 다음과 같습니다.

SSH 포트 포워딩 설정

ssh -L 8002:localhost:8002 사용자계정@서버IP


GPU 서버에서 FastAPI 서버 실행

uvicorn server:app --host 0.0.0.0 --port 8002


Android 에뮬레이터에서 앱 실행

Android 클라이언트 참고 사항

BASE_URL은 Android 에뮬레이터 + SSH 포트 포워딩 환경을 기준으로 설정되어 있습니다.

실제 기기 실행 시에는 네트워크 설정 변경이 필요합니다.

AI 추론 로직과 모바일 UI를 분리하기 위한 설계 의도입니다.

7. 주요 수정 및 추가 파일

HomeFragment.java

InferResponse.java

Analysis.java

ResultActivity.java

activity_result.xml

8. 향후 확장 계획

CSV 기반 유사 시술 사례 분석

병원 / 의사 / 시술 정보 추천 기능 추가

추천 결과 카드 UI 및 리스트 형태 제공